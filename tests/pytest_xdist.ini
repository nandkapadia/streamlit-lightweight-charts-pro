[tool:pytest]
# pytest-xdist specific configuration for parallel execution

# Worker configuration
addopts = 
    -n auto
    --dist=loadfile
    --max-worker-restart=0
    --worker-restart-retry=0

# Test distribution strategy
# loadfile: distribute tests by file (good for most cases)
# loadscope: distribute tests by class/module scope
# loadgroup: distribute tests by group markers

# Worker timeout and restart settings
timeout = 300
maxfail = 10

# Coverage with parallel execution
addopts = 
    -n auto
    --dist=loadfile
    --cov=streamlit_lightweight_charts_pro
    --cov-report=term-missing
    --cov-report=html:htmlcov
    --cov-context=test

# Performance optimizations
addopts = 
    -n auto
    --dist=loadfile
    --durations=10
    --tb=short
    --strict-markers
    --strict-config
